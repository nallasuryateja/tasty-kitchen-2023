{"ast":null,"code":"var _jsxFileName = \"/home/workspace/sample-project/nimap/src/components/PopularMovies/index.js\";\nimport { Component } from 'react';\nimport { RiArrowDropLeftLine, RiArrowDropRightLine } from 'react-icons/ri';\nimport Loader from 'react-loader-spinner';\nimport MovieCard from '../MovieCard';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass PopularRestaurants extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      restaurantsList: [],\n      isLoading: false,\n      activePage: 1,\n      totalPages: 0\n    };\n    this.getRestaurants = async () => {\n      this.setState({\n        isLoading: true\n      });\n      const {\n        activePage\n      } = this.state;\n      const apiKey = `c45a857c193f6302f2b5061c3b85e743`;\n      const url = `https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&language=en-US&page=${activePage}`;\n      const options = {\n        headers: {\n          Authorization: `Bearer ${apiKey}`\n        },\n        method: 'GET'\n      };\n      const response = await fetch(url, options);\n      const data = await response.json();\n      console.log(data);\n      const totalPages = data.total_pages;\n      const updatedData = data.results.map(eachItem => ({\n        id: eachItem.id,\n        posterPath: eachItem.poster_path,\n        title: eachItem.title,\n        voteAverage: eachItem.vote_average\n      }));\n      console.log(updatedData);\n      this.setState({\n        restaurantsList: updatedData,\n        isLoading: false,\n        totalPages\n      });\n    };\n    this.decrementPage = () => {\n      const {\n        activePage\n      } = this.state;\n      if (activePage > 1) {\n        this.setState(prevState => ({\n          activePage: prevState.activePage - 1\n        }), this.getRestaurants);\n      }\n    };\n    this.incrementPage = () => {\n      const {\n        activePage\n      } = this.state;\n      if (activePage < 4) {\n        this.setState(prevState => ({\n          activePage: prevState.activePage + 1\n        }), this.getRestaurants);\n      }\n    };\n    this.renderPopularRestaurants = () => {\n      const {\n        restaurantsList,\n        activePage,\n        totalPages\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"restaurants-list\",\n          children: restaurantsList.map(eachItem => /*#__PURE__*/_jsxDEV(MovieCard, {\n            movie: eachItem\n          }, eachItem.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pagination-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"pagination-button\",\n            onClick: this.decrementPage,\n            children: /*#__PURE__*/_jsxDEV(RiArrowDropLeftLine, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"page-count\",\n            children: activePage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"page-count\",\n            style: {\n              marginLeft: '5px',\n              marginRight: '5px'\n            },\n            children: \"of\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"page-count\",\n            children: [\" \", totalPages]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"pagination-button\",\n            onClick: this.incrementPage,\n            children: /*#__PURE__*/_jsxDEV(RiArrowDropRightLine, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true);\n    };\n    this.renderLoader = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"carousel-loader\",\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        type: \"ThreeDots\",\n        color: \"#F7931E\",\n        height: 50,\n        width: 50\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }, this);\n  }\n  componentDidMount() {\n    this.getRestaurants();\n  }\n  render() {\n    const {\n      isLoading\n    } = this.state;\n    return isLoading ? this.renderLoader() : this.renderPopularRestaurants();\n  }\n}\nexport default PopularRestaurants;","map":{"version":3,"names":["Component","RiArrowDropLeftLine","RiArrowDropRightLine","Loader","MovieCard","jsxDEV","_jsxDEV","Fragment","_Fragment","PopularRestaurants","constructor","args","state","restaurantsList","isLoading","activePage","totalPages","getRestaurants","setState","apiKey","url","options","headers","Authorization","method","response","fetch","data","json","console","log","total_pages","updatedData","results","map","eachItem","id","posterPath","poster_path","title","voteAverage","vote_average","decrementPage","prevState","incrementPage","renderPopularRestaurants","children","className","movie","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","size","style","marginLeft","marginRight","renderLoader","color","height","width","componentDidMount","render"],"sources":["/home/workspace/sample-project/nimap/src/components/PopularMovies/index.js"],"sourcesContent":["import {Component} from 'react'\n\nimport {RiArrowDropLeftLine, RiArrowDropRightLine} from 'react-icons/ri'\n\nimport Loader from 'react-loader-spinner'\n\nimport MovieCard from '../MovieCard'\n\nimport './index.css'\n\nclass PopularRestaurants extends Component {\n  state = {\n    restaurantsList: [],\n    isLoading: false,\n    activePage: 1,\n\n    totalPages: 0,\n  }\n\n  componentDidMount() {\n    this.getRestaurants()\n  }\n\n  getRestaurants = async () => {\n    this.setState({isLoading: true})\n    const {activePage} = this.state\n    const apiKey = `c45a857c193f6302f2b5061c3b85e743`\n\n    const url = `https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&language=en-US&page=${activePage}`\n    const options = {\n      headers: {\n        Authorization: `Bearer ${apiKey}`,\n      },\n      method: 'GET',\n    }\n    const response = await fetch(url, options)\n    const data = await response.json()\n    console.log(data)\n\n    const totalPages = data.total_pages\n    const updatedData = data.results.map(eachItem => ({\n      id: eachItem.id,\n      posterPath: eachItem.poster_path,\n      title: eachItem.title,\n      voteAverage: eachItem.vote_average,\n    }))\n    console.log(updatedData)\n    this.setState({\n      restaurantsList: updatedData,\n      isLoading: false,\n      totalPages,\n    })\n  }\n\n  decrementPage = () => {\n    const {activePage} = this.state\n    if (activePage > 1) {\n      this.setState(\n        prevState => ({\n          activePage: prevState.activePage - 1,\n        }),\n        this.getRestaurants,\n      )\n    }\n  }\n\n  incrementPage = () => {\n    const {activePage} = this.state\n    if (activePage < 4) {\n      this.setState(\n        prevState => ({\n          activePage: prevState.activePage + 1,\n        }),\n        this.getRestaurants,\n      )\n    }\n  }\n\n  renderPopularRestaurants = () => {\n    const {restaurantsList, activePage, totalPages} = this.state\n    return (\n      <>\n        <ul className=\"restaurants-list\">\n          {restaurantsList.map(eachItem => (\n            <MovieCard movie={eachItem} key={eachItem.id} />\n          ))}\n        </ul>\n        <div className=\"pagination-container\">\n          <button\n            type=\"button\"\n            className=\"pagination-button\"\n            onClick={this.decrementPage}\n          >\n            <RiArrowDropLeftLine size={20} />\n          </button>\n          <p className=\"page-count\">{activePage}</p>\n          <span\n            className=\"page-count\"\n            style={{marginLeft: '5px', marginRight: '5px'}}\n          >\n            of\n          </span>\n          <p className=\"page-count\"> {totalPages}</p>\n          <button\n            type=\"button\"\n            className=\"pagination-button\"\n            onClick={this.incrementPage}\n          >\n            <RiArrowDropRightLine size={20} />\n          </button>\n        </div>\n      </>\n    )\n  }\n\n  renderLoader = () => (\n    <div className=\"carousel-loader\">\n      <Loader type=\"ThreeDots\" color=\"#F7931E\" height={50} width={50} />\n    </div>\n  )\n\n  render() {\n    const {isLoading} = this.state\n    return isLoading ? this.renderLoader() : this.renderPopularRestaurants()\n  }\n}\n\nexport default PopularRestaurants\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}